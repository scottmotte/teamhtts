(function(e){e.Zebra_Accordion=function(q,r){var a=this,h=null,j=null,l=[],g=[];a.settings={};a.show=function(b,c,s){if(null!=(new String(b)).match(/^[0-9]+$/)&&0<=b&&b<=g.length-1){var m=e(h[b]),k=e(j[b]),f=g[b];if(a.settings.collapsible&&0<k.height())return a.hide(b,c);a.settings.collapsible||j.each(function(e){e!=b&&a.hide(e,c)});m.addClass(a.settings.expanded_class);k.css("display","block");k.stop();k.animate({height:f.height,paddingTop:f.paddingTop,paddingBottom:f.paddingBottom,marginTop:f.marginTop, marginBottom:f.marginBottom,opacity:1},c?0:a.settings.show_speed,function(){if(a.settings.onOpen&&"function"==typeof a.settings.onOpen)a.settings.onOpen(b,m,k);if(!s){var c=Math.round(m.offset().top),g=c+l[b].height+f.outerHeight,h=e(window).height(),j=e(window).scrollTop(),d=null;g>h+j&&(d=g-h,d>c&&(d=c));c<j&&(d=c);d&&e("html, body").animate({scrollTop:d},a.settings.scroll_speed)}})}};a.hide=function(b,c){if(null!=(new String(b)).match(/^[0-9]+$/)&&0<=b&&b<=g.length-1){var f=e(h[b]),d=e(j[b]),k= g[b];f.removeClass(a.settings.expanded_class);d.stop();d.css({borderTopWidth:0,borderBottomWidth:0});d.animate({height:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0,opacity:a.settings.animate_opacity?0:1},c?0:a.settings.hide_speed,function(){if(a.settings.onClose&&"function"==typeof a.settings.onClose)a.settings.onClose(b,f,d);e(this).css({display:"none",visibility:"visible",borderTopWidth:k.borderTopWidth,borderBottomWidth:k.borderBottomWidth})})}};var n=function(){g=[];j.each(function(b){var c= e(this);c.css({visibility:"hidden",display:"block"});g.push({height:c.height(),outerHeight:c.outerHeight(),paddingTop:f(c.css("paddingTop")),paddingBottom:f(c.css("paddingBottom")),marginTop:f(c.css("marginTop")),marginBottom:f(c.css("marginBottom")),borderTopWidth:f(c.css("borderTopWidth")),borderBottomWidth:f(c.css("borderBottomWidth")),style:c.attr("style")});a.hide(b,!0)})},p=function(b){l=[];h.each(function(c){var d=e(this),f=!a.settings.collapsible&&a.settings.toggle_on_mouseover?"mouseover": "click";l.push({height:d.outerHeight(),style:d.attr("style")});void 0==b&&d.bind(f,function(){a.show(c)})})},f=function(a){a=parseInt(a,10);return isNaN(a)?0:a};a.settings=e.extend({},{animate_opacity:!0,collapsible:!1,expanded_class:"Zebra_Accordion_Expanded",hide_speed:400,scroll_speed:600,show_speed:400,show:0,toggle_on_mouseover:!1,onClose:null,onOpen:null},r);var d=e(q),h=d.children("dt"),j=d.children("dd");p();n();if(!1!==a.settings.show)if(a.settings.collapsible&&(e.isArray(a.settings.show)|| !0===a.settings.show))if(!0===a.settings.show)for(d=0;d<h.length;d++)a.show(d,!0,!0);else e.each(a.settings.show,function(b){a.show(a.settings.show[b],!0,!0)});else a.show(a.settings.show,!0,!0);e(window).bind("resize",function(){var b=[];h.each(function(c){var d=e(this);d.hasClass(a.settings.expanded_class)&&b.push(c);d.attr("style",l[c].style)});p(!1);j.each(function(a){e(this).attr("style",g[a].style)});n();0<b.length&&e.each(b,function(c){a.show(b[c],!0,!0)})})}})(jQuery);